<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="Keywords" content="blog"/>
    <meta name="Description" content="blog"/>
    <title>Simple</title>
    <link rel="shortcut icon" href="/static/favicon.png"/>
    <link rel="stylesheet" type="text/css" href="/main.css" />
</head>
<body>
<div class="main">
    <div class="header">
    	<ul id="pages">
            <li><a href="/">home</a></li>
            <li><a href="/#/tags">tags</a></li>
            <li><a href="/#/archive">archive</a></li>
    	</ul>
    </div>
	<div class="wrap-header">
	<h1>
    <a href="/" id="title"></a>
	</h1>
	</div>
<div id="md" style="display: none;">
<!-- markdown -->
  做项目时碰到一个问题，就是要把一个SQL server中的某个字段的所有汉字（Cname）转换为拼音，并存储到另一个字段中(Username)，从网上找了好久然后找到了这个函数，感觉很好，就直接拿来用了

    USE RCMSTEST  
    go  
  
    IF OBJECT_ID('Fn_GetQuanPin','Fn') IS NOT NULL  
    DROP FUNCTION fn_GetQuanPin  
    go  
  
    create function [dbo].[fn_GetQuanPin](@str varchar(100))  
    returns varchar(8000)  
    as  
    begin  
    declare @re varchar(8000),@crs varchar(10)  
    declare @strlen int   
    select @strlen=len(@str),@re=''  
    while @strlen>0  
    begin    
    set @crs= substring(@str,@strlen,1)  
      select @re=  
        CASE   
        when @crs<'吖' COLLATE Chinese_PRC_CS_AS_KS_WS then @crs  
        when @crs<='厑' COLLATE Chinese_PRC_CS_AS_KS_WS then 'A'  
        when @crs<='靉' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ai'  
        when @crs<='黯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'An'  
        when @crs<='醠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ang'  
        when @crs<='驁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ao'  
        when @crs<='欛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ba'  
        when @crs<='瓸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bai'  
        when @crs<='瓣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ban'  
        when @crs<='鎊' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bang'  
        when @crs<='鑤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bao'  
        when @crs<='鐾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bei'  
        when @crs<='輽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ben'  
        when @crs<='鏰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Beng'  
        when @crs<='鼊' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bi'  
        when @crs<='變' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bian'  
        when @crs<='鰾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Biao'  
        when @crs<='彆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bie'  
        when @crs<='鬢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bin'  
        when @crs<='靐' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bing'  
        when @crs<='蔔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bo'  
        when @crs<='簿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bu'  
        when @crs<='囃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ca'  
        when @crs<='乲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cai'  
        when @crs<='爘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Can'  
        when @crs<='賶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cang'  
        when @crs<='鼜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cao'  
        when @crs<='簎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ce'  
        when @crs<='笒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cen'  
        when @crs<='乽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ceng'  
        when @crs<='詫' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cha'  
        when @crs<='囆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chai'  
        when @crs<='顫' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chan'  
        when @crs<='韔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chang'  
        when @crs<='觘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chao'  
        when @crs<='爡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Che'  
        when @crs<='讖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chen'  
        when @crs<='秤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cheng'  
        when @crs<='鷘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chi'  
        when @crs<='銃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chong'  
        when @crs<='殠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chou'  
        when @crs<='矗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chu'  
        when @crs<='踹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chuai'  
        when @crs<='鶨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chuan'  
        when @crs<='愴' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chuang'  
        when @crs<='顀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chui'  
        when @crs<='蠢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chun'  
        when @crs<='縒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chuo'  
        when @crs<='嗭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ci'  
        when @crs<='謥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cong'  
        when @crs<='輳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cou'  
        when @crs<='顣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cu'  
        when @crs<='爨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cuan'  
        when @crs<='臎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cui'  
        when @crs<='籿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cun'  
        when @crs<='錯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cuo'  
        when @crs<='橽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Da'  
        when @crs<='靆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dai'  
        when @crs<='饏' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dan'  
        when @crs<='闣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dang'  
        when @crs<='纛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dao'  
        when @crs<='的' COLLATE Chinese_PRC_CS_AS_KS_WS then 'De'  
        when @crs<='扽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Den'  
        when @crs<='鐙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Deng'  
        when @crs<='螮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Di'  
        when @crs<='嗲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dia'  
        when @crs<='驔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dian'  
        when @crs<='鑃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Diao'  
        when @crs<='嚸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Die'  
        when @crs<='顁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ding'  
        when @crs<='銩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Diu'  
        when @crs<='霘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dong'  
        when @crs<='鬭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dou'  
        when @crs<='蠹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Du'  
        when @crs<='叾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Duan'  
        when @crs<='譵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dui'  
        when @crs<='踲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dun'  
        when @crs<='鵽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Duo'  
        when @crs<='鱷' COLLATE Chinese_PRC_CS_AS_KS_WS then 'E'  
        when @crs<='摁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'En'  
        when @crs<='鞥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Eng'  
        when @crs<='樲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Er'  
        when @crs<='髮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fa'  
        when @crs<='瀪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fan'  
        when @crs<='放' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fang'  
        when @crs<='靅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fei'  
        when @crs<='鱝' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fen'  
        when @crs<='覅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Feng'  
        when @crs<='梻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fo'  
        when @crs<='鴀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fou'  
        when @crs<='猤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fu'  
        when @crs<='魀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ga'  
        when @crs<='瓂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gai'  
        when @crs<='灨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gan'  
        when @crs<='戇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gang'  
        when @crs<='鋯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gao'  
        when @crs<='獦' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ge'  
        when @crs<='給' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gei'  
        when @crs<='搄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gen'  
        when @crs<='堩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Geng'  
        when @crs<='兣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gong'  
        when @crs<='購' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gou'  
        when @crs<='顧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gu'  
        when @crs<='詿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gua'  
        when @crs<='恠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Guai'  
        when @crs<='鱹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Guan'  
        when @crs<='撗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Guang'  
        when @crs<='鱥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gui'  
        when @crs<='謴' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gun'  
        when @crs<='腂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Guo'  
        when @crs<='哈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ha'  
        when @crs<='饚' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hai'  
        when @crs<='鶾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Han'  
        when @crs<='沆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hang'  
        when @crs<='兞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hao'  
        when @crs<='靏' COLLATE Chinese_PRC_CS_AS_KS_WS then 'He'  
        when @crs<='嬒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hei'  
        when @crs<='恨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hen'  
        when @crs<='堼' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Heng'  
        when @crs<='鬨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hong'  
        when @crs<='鱟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hou'  
        when @crs<='鸌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hu'  
        when @crs<='蘳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hua'  
        when @crs<='蘾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Huai'  
        when @crs<='鰀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Huan'  
        when @crs<='鎤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Huang'  
        when @crs<='顪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hui'  
        when @crs<='諢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hun'  
        when @crs<='夻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Huo'  
        when @crs<='驥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ji'  
        when @crs<='嗧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jia'  
        when @crs<='鑳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jian'  
        when @crs<='謽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jiang'  
        when @crs<='釂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jiao'  
        when @crs<='繲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jie'  
        when @crs<='齽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jin'  
        when @crs<='竸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jing'  
        when @crs<='蘔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jiong'  
        when @crs<='欍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jiu'  
        when @crs<='爠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ju'  
        when @crs<='羂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Juan'  
        when @crs<='钁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jue'  
        when @crs<='攈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jun'  
        when @crs<='鉲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ka'  
        when @crs<='乫' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kai'  
        when @crs<='矙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kan'  
        when @crs<='閌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kang'  
        when @crs<='鯌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kao'  
        when @crs<='騍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ke'  
        when @crs<='褃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ken'  
        when @crs<='鏗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Keng'  
        when @crs<='廤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kong'  
        when @crs<='鷇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kou'  
        when @crs<='嚳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ku'  
        when @crs<='骻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kua'  
        when @crs<='鱠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kuai'  
        when @crs<='窾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kuan'  
        when @crs<='鑛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kuang'  
        when @crs<='鑎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kui'  
        when @crs<='睏' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kun'  
        when @crs<='穒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kuo'  
        when @crs<='鞡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'La'  
        when @crs<='籟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lai'  
        when @crs<='糷' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lan'  
        when @crs<='唥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lang'  
        when @crs<='軂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lao'  
        when @crs<='餎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Le'  
        when @crs<='脷' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lei'  
        when @crs<='睖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Leng'  
        when @crs<='瓈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Li'  
        when @crs<='倆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lia'  
        when @crs<='纞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lian'  
        when @crs<='鍄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Liang'  
        when @crs<='瞭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Liao'  
        when @crs<='鱲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lie'  
        when @crs<='轥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lin'  
        when @crs<='炩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ling'  
        when @crs<='咯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Liu'  
        when @crs<='贚' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Long'  
        when @crs<='鏤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lou'  
        when @crs<='氇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lu'  
        when @crs<='鑢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lv'  
        when @crs<='亂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Luan'  
        when @crs<='擽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lue'  
        when @crs<='論' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lun'  
        when @crs<='鱳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Luo'  
        when @crs<='嘛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ma'  
        when @crs<='霢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mai'  
        when @crs<='蘰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Man'  
        when @crs<='蠎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mang'  
        when @crs<='唜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mao'  
        when @crs<='癦' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Me'  
        when @crs<='嚜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mei'  
        when @crs<='們' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Men'  
        when @crs<='霥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Meng'  
        when @crs<='羃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mi'  
        when @crs<='麵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mian'  
        when @crs<='廟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Miao'  
        when @crs<='鱴' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mie'  
        when @crs<='鰵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Min'  
        when @crs<='詺' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ming'  
        when @crs<='謬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Miu'  
        when @crs<='耱' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mo'  
        when @crs<='麰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mou'  
        when @crs<='旀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mu'  
        when @crs<='魶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Na'  
        when @crs<='錼' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nai'  
        when @crs<='婻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nan'  
        when @crs<='齉' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nang'  
        when @crs<='臑' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nao'  
        when @crs<='呢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ne'  
        when @crs<='焾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nei'  
        when @crs<='嫩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nen'  
        when @crs<='能' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Neng'  
        when @crs<='嬺' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ni'  
        when @crs<='艌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nian'  
        when @crs<='釀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Niang'  
        when @crs<='脲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Niao'  
        when @crs<='钀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nie'  
        when @crs<='拰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nin'  
        when @crs<='濘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ning'  
        when @crs<='靵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Niu'  
        when @crs<='齈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nong'  
        when @crs<='譳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nou'  
        when @crs<='搙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nu'  
        when @crs<='衄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nv'  
        when @crs<='瘧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nue'  
        when @crs<='燶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nuan'  
        when @crs<='桛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nuo'  
        when @crs<='鞰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'O'  
        when @crs<='漚' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ou'  
        when @crs<='袙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pa'  
        when @crs<='磗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pai'  
        when @crs<='鑻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pan'  
        when @crs<='胖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pang'  
        when @crs<='礮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pao'  
        when @crs<='轡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pei'  
        when @crs<='喯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pen'  
        when @crs<='喸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Peng'  
        when @crs<='鸊' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pi'  
        when @crs<='騙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pian'  
        when @crs<='慓' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Piao'  
        when @crs<='嫳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pie'  
        when @crs<='聘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pin'  
        when @crs<='蘋' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ping'  
        when @crs<='魄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Po'  
        when @crs<='哛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pou'  
        when @crs<='曝' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pu'  
        when @crs<='蟿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qi'  
        when @crs<='髂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qia'  
        when @crs<='縴' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qian'  
        when @crs<='瓩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qiang'  
        when @crs<='躈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qiao'  
        when @crs<='籡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qie'  
        when @crs<='藽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qin'  
        when @crs<='櫦' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qing'  
        when @crs<='瓗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qiong'  
        when @crs<='糗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qiu'  
        when @crs<='覻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qu'  
        when @crs<='勸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Quan'  
        when @crs<='礭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Que'  
        when @crs<='囕' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qun'  
        when @crs<='橪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ran'  
        when @crs<='讓' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rang'  
        when @crs<='繞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rao'  
        when @crs<='熱' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Re'  
        when @crs<='餁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ren'  
        when @crs<='陾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Reng'  
        when @crs<='馹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ri'  
        when @crs<='穃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rong'  
        when @crs<='嶿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rou'  
        when @crs<='擩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ru'  
        when @crs<='礝' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ruan'  
        when @crs<='壡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rui'  
        when @crs<='橍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Run'  
        when @crs<='鶸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ruo'  
        when @crs<='栍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sa'  
        when @crs<='虄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sai'  
        when @crs<='閐' COLLATE Chinese_PRC_CS_AS_KS_WS then 'San'  
        when @crs<='喪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sang'  
        when @crs<='髞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sao'  
        when @crs<='飋' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Se'  
        when @crs<='篸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sen'  
        when @crs<='縇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Seng'  
        when @crs<='霎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sha'  
        when @crs<='曬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shai'  
        when @crs<='鱔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shan'  
        when @crs<='緔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shang'  
        when @crs<='潲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shao'  
        when @crs<='欇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'She'  
        when @crs<='瘮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shen'  
        when @crs<='賸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sheng'  
        when @crs<='瓧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shi'  
        when @crs<='鏉' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shou'  
        when @crs<='虪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shu'  
        when @crs<='誜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shua'  
        when @crs<='卛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shuai'  
        when @crs<='腨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shuan'  
        when @crs<='灀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shuang'  
        when @crs<='睡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shui'  
        when @crs<='鬊' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shun'  
        when @crs<='鑠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shuo'  
        when @crs<='乺' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Si'  
        when @crs<='鎹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Song'  
        when @crs<='瘶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sou'  
        when @crs<='鷫' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Su'  
        when @crs<='算' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Suan'  
        when @crs<='鐩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sui'  
        when @crs<='潠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sun'  
        when @crs<='蜶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Suo'  
        when @crs<='襨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ta'  
        when @crs<='燤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tai'  
        when @crs<='賧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tan'  
        when @crs<='燙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tang'  
        when @crs<='畓' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tao'  
        when @crs<='蟘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Te'  
        when @crs<='朰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Teng'  
        when @crs<='趯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ti'  
        when @crs<='舚' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tian'  
        when @crs<='糶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tiao'  
        when @crs<='餮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tie'  
        when @crs<='乭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ting'  
        when @crs<='憅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tong'  
        when @crs<='透' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tou'  
        when @crs<='鵵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tu'  
        when @crs<='褖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tuan'  
        when @crs<='駾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tui'  
        when @crs<='坉' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tun'  
        when @crs<='籜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tuo'  
        when @crs<='韤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wa'  
        when @crs<='顡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wai'  
        when @crs<='贎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wan'  
        when @crs<='朢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wang'  
        when @crs<='躛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wei'  
        when @crs<='璺' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wen'  
        when @crs<='齆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Weng'  
        when @crs<='齷' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wo'  
        when @crs<='鶩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wu'  
        when @crs<='衋' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xi'  
        when @crs<='鏬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xia'  
        when @crs<='鼸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xian'  
        when @crs<='鱌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xiang'  
        when @crs<='斆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xiao'  
        when @crs<='躞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xie'  
        when @crs<='釁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xin'  
        when @crs<='臖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xing'  
        when @crs<='敻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xiong'  
        when @crs<='齅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xiu'  
        when @crs<='蓿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xu'  
        when @crs<='贙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xuan'  
        when @crs<='瀥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xue'  
        when @crs<='鑂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xun'  
        when @crs<='齾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ya'  
        when @crs<='灩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yan'  
        when @crs<='樣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yang'  
        when @crs<='鑰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yao'  
        when @crs<='岃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ye'  
        when @crs<='齸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yi'  
        when @crs<='檼' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yin'  
        when @crs<='譍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ying'  
        when @crs<='喲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yo'  
        when @crs<='醟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yong'  
        when @crs<='鼬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'You'  
        when @crs<='爩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yu'  
        when @crs<='願' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yuan'  
        when @crs<='鸙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yue'  
        when @crs<='韻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yun'  
        when @crs<='雥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Za'  
        when @crs<='縡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zai'  
        when @crs<='饡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zan'  
        when @crs<='臟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zang'  
        when @crs<='竈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zao'  
        when @crs<='稄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ze'  
        when @crs<='鱡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zei'  
        when @crs<='囎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zen'   
        when @crs<='贈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zeng'  
        when @crs<='醡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zha'  
        when @crs<='瘵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhai'  
        when @crs<='驏' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhan'  
        when @crs<='瞕' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhang'  
        when @crs<='羄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhao'  
        when @crs<='鷓' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhe'  
        when @crs<='黮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhen'  
        when @crs<='證' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zheng'  
        when @crs<='豒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhi'  
        when @crs<='諥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhong'  
        when @crs<='驟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhou'  
        when @crs<='鑄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhu'  
        when @crs<='爪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhua'  
        when @crs<='跩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhuai'  
        when @crs<='籑' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhuan'  
        when @crs<='戅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhuang'  
        when @crs<='鑆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhui'  
        when @crs<='稕' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhun'  
        when @crs<='籱' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhuo'  
        when @crs<='漬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zi'  
        when @crs<='縱' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zong'  
        when @crs<='媰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zou'  
        when @crs<='謯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zu'  
        when @crs<='攥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zuan'  
        when @crs<='欈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zui'  
        when @crs<='銌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zun'  
        when @crs<='咗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zuo'  
        else  @crs end+@re,@strlen=@strlen-1   
    end  
    return(@re)  
    END
算法拿过来之后，就可直接调用了，下面是利用该算法将Cname中的汉字全部转换为拼音并存储在Username中，一秒钟搞定。拿来主义就是好！
```sql
GO  
update RL_HRM_Employees set Username=dbo.fn_GetQuanPin(Cname) 
```
附：拿来网址：<a href=“http://blog.csdn.net/roy_88/article/details/8772631” target='_blank'>http://blog.csdn.net/roy_88/article/details/8772631</a>
<!-- markdown end -->
</div>
<div class="entry" id="main">
<!-- content -->
<p>做项目时碰到一个问题，就是要把一个SQL server中的某个字段的所有汉字（Cname）转换为拼音，并存储到另一个字段中(Username)，从网上找了好久然后找到了这个函数，感觉很好，就直接拿来用了</p>

<pre><code>USE RCMSTEST  
go  

IF OBJECT_ID('Fn_GetQuanPin','Fn') IS NOT NULL  
DROP FUNCTION fn_GetQuanPin  
go  

create function [dbo].[fn_GetQuanPin](@str varchar(100))  
returns varchar(8000)  
as  
begin  
declare @re varchar(8000),@crs varchar(10)  
declare @strlen int   
select @strlen=len(@str),@re=''  
while @strlen&gt;0  
begin    
set @crs= substring(@str,@strlen,1)  
  select @re=  
    CASE   
    when @crs&lt;'吖' COLLATE Chinese_PRC_CS_AS_KS_WS then @crs  
    when @crs&lt;='厑' COLLATE Chinese_PRC_CS_AS_KS_WS then 'A'  
    when @crs&lt;='靉' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ai'  
    when @crs&lt;='黯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'An'  
    when @crs&lt;='醠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ang'  
    when @crs&lt;='驁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ao'  
    when @crs&lt;='欛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ba'  
    when @crs&lt;='瓸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bai'  
    when @crs&lt;='瓣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ban'  
    when @crs&lt;='鎊' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bang'  
    when @crs&lt;='鑤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bao'  
    when @crs&lt;='鐾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bei'  
    when @crs&lt;='輽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ben'  
    when @crs&lt;='鏰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Beng'  
    when @crs&lt;='鼊' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bi'  
    when @crs&lt;='變' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bian'  
    when @crs&lt;='鰾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Biao'  
    when @crs&lt;='彆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bie'  
    when @crs&lt;='鬢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bin'  
    when @crs&lt;='靐' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bing'  
    when @crs&lt;='蔔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bo'  
    when @crs&lt;='簿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Bu'  
    when @crs&lt;='囃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ca'  
    when @crs&lt;='乲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cai'  
    when @crs&lt;='爘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Can'  
    when @crs&lt;='賶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cang'  
    when @crs&lt;='鼜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cao'  
    when @crs&lt;='簎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ce'  
    when @crs&lt;='笒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cen'  
    when @crs&lt;='乽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ceng'  
    when @crs&lt;='詫' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cha'  
    when @crs&lt;='囆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chai'  
    when @crs&lt;='顫' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chan'  
    when @crs&lt;='韔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chang'  
    when @crs&lt;='觘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chao'  
    when @crs&lt;='爡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Che'  
    when @crs&lt;='讖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chen'  
    when @crs&lt;='秤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cheng'  
    when @crs&lt;='鷘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chi'  
    when @crs&lt;='銃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chong'  
    when @crs&lt;='殠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chou'  
    when @crs&lt;='矗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chu'  
    when @crs&lt;='踹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chuai'  
    when @crs&lt;='鶨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chuan'  
    when @crs&lt;='愴' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chuang'  
    when @crs&lt;='顀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chui'  
    when @crs&lt;='蠢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chun'  
    when @crs&lt;='縒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Chuo'  
    when @crs&lt;='嗭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ci'  
    when @crs&lt;='謥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cong'  
    when @crs&lt;='輳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cou'  
    when @crs&lt;='顣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cu'  
    when @crs&lt;='爨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cuan'  
    when @crs&lt;='臎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cui'  
    when @crs&lt;='籿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cun'  
    when @crs&lt;='錯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Cuo'  
    when @crs&lt;='橽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Da'  
    when @crs&lt;='靆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dai'  
    when @crs&lt;='饏' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dan'  
    when @crs&lt;='闣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dang'  
    when @crs&lt;='纛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dao'  
    when @crs&lt;='的' COLLATE Chinese_PRC_CS_AS_KS_WS then 'De'  
    when @crs&lt;='扽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Den'  
    when @crs&lt;='鐙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Deng'  
    when @crs&lt;='螮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Di'  
    when @crs&lt;='嗲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dia'  
    when @crs&lt;='驔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dian'  
    when @crs&lt;='鑃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Diao'  
    when @crs&lt;='嚸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Die'  
    when @crs&lt;='顁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ding'  
    when @crs&lt;='銩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Diu'  
    when @crs&lt;='霘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dong'  
    when @crs&lt;='鬭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dou'  
    when @crs&lt;='蠹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Du'  
    when @crs&lt;='叾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Duan'  
    when @crs&lt;='譵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dui'  
    when @crs&lt;='踲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Dun'  
    when @crs&lt;='鵽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Duo'  
    when @crs&lt;='鱷' COLLATE Chinese_PRC_CS_AS_KS_WS then 'E'  
    when @crs&lt;='摁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'En'  
    when @crs&lt;='鞥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Eng'  
    when @crs&lt;='樲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Er'  
    when @crs&lt;='髮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fa'  
    when @crs&lt;='瀪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fan'  
    when @crs&lt;='放' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fang'  
    when @crs&lt;='靅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fei'  
    when @crs&lt;='鱝' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fen'  
    when @crs&lt;='覅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Feng'  
    when @crs&lt;='梻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fo'  
    when @crs&lt;='鴀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fou'  
    when @crs&lt;='猤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Fu'  
    when @crs&lt;='魀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ga'  
    when @crs&lt;='瓂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gai'  
    when @crs&lt;='灨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gan'  
    when @crs&lt;='戇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gang'  
    when @crs&lt;='鋯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gao'  
    when @crs&lt;='獦' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ge'  
    when @crs&lt;='給' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gei'  
    when @crs&lt;='搄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gen'  
    when @crs&lt;='堩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Geng'  
    when @crs&lt;='兣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gong'  
    when @crs&lt;='購' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gou'  
    when @crs&lt;='顧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gu'  
    when @crs&lt;='詿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gua'  
    when @crs&lt;='恠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Guai'  
    when @crs&lt;='鱹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Guan'  
    when @crs&lt;='撗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Guang'  
    when @crs&lt;='鱥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gui'  
    when @crs&lt;='謴' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Gun'  
    when @crs&lt;='腂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Guo'  
    when @crs&lt;='哈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ha'  
    when @crs&lt;='饚' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hai'  
    when @crs&lt;='鶾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Han'  
    when @crs&lt;='沆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hang'  
    when @crs&lt;='兞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hao'  
    when @crs&lt;='靏' COLLATE Chinese_PRC_CS_AS_KS_WS then 'He'  
    when @crs&lt;='嬒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hei'  
    when @crs&lt;='恨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hen'  
    when @crs&lt;='堼' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Heng'  
    when @crs&lt;='鬨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hong'  
    when @crs&lt;='鱟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hou'  
    when @crs&lt;='鸌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hu'  
    when @crs&lt;='蘳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hua'  
    when @crs&lt;='蘾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Huai'  
    when @crs&lt;='鰀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Huan'  
    when @crs&lt;='鎤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Huang'  
    when @crs&lt;='顪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hui'  
    when @crs&lt;='諢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Hun'  
    when @crs&lt;='夻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Huo'  
    when @crs&lt;='驥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ji'  
    when @crs&lt;='嗧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jia'  
    when @crs&lt;='鑳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jian'  
    when @crs&lt;='謽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jiang'  
    when @crs&lt;='釂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jiao'  
    when @crs&lt;='繲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jie'  
    when @crs&lt;='齽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jin'  
    when @crs&lt;='竸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jing'  
    when @crs&lt;='蘔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jiong'  
    when @crs&lt;='欍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jiu'  
    when @crs&lt;='爠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ju'  
    when @crs&lt;='羂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Juan'  
    when @crs&lt;='钁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jue'  
    when @crs&lt;='攈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Jun'  
    when @crs&lt;='鉲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ka'  
    when @crs&lt;='乫' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kai'  
    when @crs&lt;='矙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kan'  
    when @crs&lt;='閌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kang'  
    when @crs&lt;='鯌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kao'  
    when @crs&lt;='騍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ke'  
    when @crs&lt;='褃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ken'  
    when @crs&lt;='鏗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Keng'  
    when @crs&lt;='廤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kong'  
    when @crs&lt;='鷇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kou'  
    when @crs&lt;='嚳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ku'  
    when @crs&lt;='骻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kua'  
    when @crs&lt;='鱠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kuai'  
    when @crs&lt;='窾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kuan'  
    when @crs&lt;='鑛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kuang'  
    when @crs&lt;='鑎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kui'  
    when @crs&lt;='睏' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kun'  
    when @crs&lt;='穒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Kuo'  
    when @crs&lt;='鞡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'La'  
    when @crs&lt;='籟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lai'  
    when @crs&lt;='糷' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lan'  
    when @crs&lt;='唥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lang'  
    when @crs&lt;='軂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lao'  
    when @crs&lt;='餎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Le'  
    when @crs&lt;='脷' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lei'  
    when @crs&lt;='睖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Leng'  
    when @crs&lt;='瓈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Li'  
    when @crs&lt;='倆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lia'  
    when @crs&lt;='纞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lian'  
    when @crs&lt;='鍄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Liang'  
    when @crs&lt;='瞭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Liao'  
    when @crs&lt;='鱲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lie'  
    when @crs&lt;='轥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lin'  
    when @crs&lt;='炩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ling'  
    when @crs&lt;='咯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Liu'  
    when @crs&lt;='贚' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Long'  
    when @crs&lt;='鏤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lou'  
    when @crs&lt;='氇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lu'  
    when @crs&lt;='鑢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lv'  
    when @crs&lt;='亂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Luan'  
    when @crs&lt;='擽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lue'  
    when @crs&lt;='論' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Lun'  
    when @crs&lt;='鱳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Luo'  
    when @crs&lt;='嘛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ma'  
    when @crs&lt;='霢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mai'  
    when @crs&lt;='蘰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Man'  
    when @crs&lt;='蠎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mang'  
    when @crs&lt;='唜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mao'  
    when @crs&lt;='癦' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Me'  
    when @crs&lt;='嚜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mei'  
    when @crs&lt;='們' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Men'  
    when @crs&lt;='霥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Meng'  
    when @crs&lt;='羃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mi'  
    when @crs&lt;='麵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mian'  
    when @crs&lt;='廟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Miao'  
    when @crs&lt;='鱴' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mie'  
    when @crs&lt;='鰵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Min'  
    when @crs&lt;='詺' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ming'  
    when @crs&lt;='謬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Miu'  
    when @crs&lt;='耱' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mo'  
    when @crs&lt;='麰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mou'  
    when @crs&lt;='旀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Mu'  
    when @crs&lt;='魶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Na'  
    when @crs&lt;='錼' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nai'  
    when @crs&lt;='婻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nan'  
    when @crs&lt;='齉' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nang'  
    when @crs&lt;='臑' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nao'  
    when @crs&lt;='呢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ne'  
    when @crs&lt;='焾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nei'  
    when @crs&lt;='嫩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nen'  
    when @crs&lt;='能' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Neng'  
    when @crs&lt;='嬺' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ni'  
    when @crs&lt;='艌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nian'  
    when @crs&lt;='釀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Niang'  
    when @crs&lt;='脲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Niao'  
    when @crs&lt;='钀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nie'  
    when @crs&lt;='拰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nin'  
    when @crs&lt;='濘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ning'  
    when @crs&lt;='靵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Niu'  
    when @crs&lt;='齈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nong'  
    when @crs&lt;='譳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nou'  
    when @crs&lt;='搙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nu'  
    when @crs&lt;='衄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nv'  
    when @crs&lt;='瘧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nue'  
    when @crs&lt;='燶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nuan'  
    when @crs&lt;='桛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Nuo'  
    when @crs&lt;='鞰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'O'  
    when @crs&lt;='漚' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ou'  
    when @crs&lt;='袙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pa'  
    when @crs&lt;='磗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pai'  
    when @crs&lt;='鑻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pan'  
    when @crs&lt;='胖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pang'  
    when @crs&lt;='礮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pao'  
    when @crs&lt;='轡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pei'  
    when @crs&lt;='喯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pen'  
    when @crs&lt;='喸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Peng'  
    when @crs&lt;='鸊' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pi'  
    when @crs&lt;='騙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pian'  
    when @crs&lt;='慓' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Piao'  
    when @crs&lt;='嫳' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pie'  
    when @crs&lt;='聘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pin'  
    when @crs&lt;='蘋' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ping'  
    when @crs&lt;='魄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Po'  
    when @crs&lt;='哛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pou'  
    when @crs&lt;='曝' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Pu'  
    when @crs&lt;='蟿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qi'  
    when @crs&lt;='髂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qia'  
    when @crs&lt;='縴' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qian'  
    when @crs&lt;='瓩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qiang'  
    when @crs&lt;='躈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qiao'  
    when @crs&lt;='籡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qie'  
    when @crs&lt;='藽' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qin'  
    when @crs&lt;='櫦' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qing'  
    when @crs&lt;='瓗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qiong'  
    when @crs&lt;='糗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qiu'  
    when @crs&lt;='覻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qu'  
    when @crs&lt;='勸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Quan'  
    when @crs&lt;='礭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Que'  
    when @crs&lt;='囕' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Qun'  
    when @crs&lt;='橪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ran'  
    when @crs&lt;='讓' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rang'  
    when @crs&lt;='繞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rao'  
    when @crs&lt;='熱' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Re'  
    when @crs&lt;='餁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ren'  
    when @crs&lt;='陾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Reng'  
    when @crs&lt;='馹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ri'  
    when @crs&lt;='穃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rong'  
    when @crs&lt;='嶿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rou'  
    when @crs&lt;='擩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ru'  
    when @crs&lt;='礝' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ruan'  
    when @crs&lt;='壡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Rui'  
    when @crs&lt;='橍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Run'  
    when @crs&lt;='鶸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ruo'  
    when @crs&lt;='栍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sa'  
    when @crs&lt;='虄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sai'  
    when @crs&lt;='閐' COLLATE Chinese_PRC_CS_AS_KS_WS then 'San'  
    when @crs&lt;='喪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sang'  
    when @crs&lt;='髞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sao'  
    when @crs&lt;='飋' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Se'  
    when @crs&lt;='篸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sen'  
    when @crs&lt;='縇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Seng'  
    when @crs&lt;='霎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sha'  
    when @crs&lt;='曬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shai'  
    when @crs&lt;='鱔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shan'  
    when @crs&lt;='緔' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shang'  
    when @crs&lt;='潲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shao'  
    when @crs&lt;='欇' COLLATE Chinese_PRC_CS_AS_KS_WS then 'She'  
    when @crs&lt;='瘮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shen'  
    when @crs&lt;='賸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sheng'  
    when @crs&lt;='瓧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shi'  
    when @crs&lt;='鏉' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shou'  
    when @crs&lt;='虪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shu'  
    when @crs&lt;='誜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shua'  
    when @crs&lt;='卛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shuai'  
    when @crs&lt;='腨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shuan'  
    when @crs&lt;='灀' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shuang'  
    when @crs&lt;='睡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shui'  
    when @crs&lt;='鬊' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shun'  
    when @crs&lt;='鑠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Shuo'  
    when @crs&lt;='乺' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Si'  
    when @crs&lt;='鎹' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Song'  
    when @crs&lt;='瘶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sou'  
    when @crs&lt;='鷫' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Su'  
    when @crs&lt;='算' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Suan'  
    when @crs&lt;='鐩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sui'  
    when @crs&lt;='潠' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Sun'  
    when @crs&lt;='蜶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Suo'  
    when @crs&lt;='襨' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ta'  
    when @crs&lt;='燤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tai'  
    when @crs&lt;='賧' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tan'  
    when @crs&lt;='燙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tang'  
    when @crs&lt;='畓' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tao'  
    when @crs&lt;='蟘' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Te'  
    when @crs&lt;='朰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Teng'  
    when @crs&lt;='趯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ti'  
    when @crs&lt;='舚' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tian'  
    when @crs&lt;='糶' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tiao'  
    when @crs&lt;='餮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tie'  
    when @crs&lt;='乭' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ting'  
    when @crs&lt;='憅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tong'  
    when @crs&lt;='透' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tou'  
    when @crs&lt;='鵵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tu'  
    when @crs&lt;='褖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tuan'  
    when @crs&lt;='駾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tui'  
    when @crs&lt;='坉' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tun'  
    when @crs&lt;='籜' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Tuo'  
    when @crs&lt;='韤' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wa'  
    when @crs&lt;='顡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wai'  
    when @crs&lt;='贎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wan'  
    when @crs&lt;='朢' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wang'  
    when @crs&lt;='躛' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wei'  
    when @crs&lt;='璺' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wen'  
    when @crs&lt;='齆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Weng'  
    when @crs&lt;='齷' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wo'  
    when @crs&lt;='鶩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Wu'  
    when @crs&lt;='衋' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xi'  
    when @crs&lt;='鏬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xia'  
    when @crs&lt;='鼸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xian'  
    when @crs&lt;='鱌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xiang'  
    when @crs&lt;='斆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xiao'  
    when @crs&lt;='躞' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xie'  
    when @crs&lt;='釁' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xin'  
    when @crs&lt;='臖' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xing'  
    when @crs&lt;='敻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xiong'  
    when @crs&lt;='齅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xiu'  
    when @crs&lt;='蓿' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xu'  
    when @crs&lt;='贙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xuan'  
    when @crs&lt;='瀥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xue'  
    when @crs&lt;='鑂' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Xun'  
    when @crs&lt;='齾' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ya'  
    when @crs&lt;='灩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yan'  
    when @crs&lt;='樣' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yang'  
    when @crs&lt;='鑰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yao'  
    when @crs&lt;='岃' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ye'  
    when @crs&lt;='齸' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yi'  
    when @crs&lt;='檼' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yin'  
    when @crs&lt;='譍' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ying'  
    when @crs&lt;='喲' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yo'  
    when @crs&lt;='醟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yong'  
    when @crs&lt;='鼬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'You'  
    when @crs&lt;='爩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yu'  
    when @crs&lt;='願' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yuan'  
    when @crs&lt;='鸙' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yue'  
    when @crs&lt;='韻' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Yun'  
    when @crs&lt;='雥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Za'  
    when @crs&lt;='縡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zai'  
    when @crs&lt;='饡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zan'  
    when @crs&lt;='臟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zang'  
    when @crs&lt;='竈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zao'  
    when @crs&lt;='稄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Ze'  
    when @crs&lt;='鱡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zei'  
    when @crs&lt;='囎' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zen'   
    when @crs&lt;='贈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zeng'  
    when @crs&lt;='醡' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zha'  
    when @crs&lt;='瘵' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhai'  
    when @crs&lt;='驏' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhan'  
    when @crs&lt;='瞕' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhang'  
    when @crs&lt;='羄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhao'  
    when @crs&lt;='鷓' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhe'  
    when @crs&lt;='黮' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhen'  
    when @crs&lt;='證' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zheng'  
    when @crs&lt;='豒' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhi'  
    when @crs&lt;='諥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhong'  
    when @crs&lt;='驟' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhou'  
    when @crs&lt;='鑄' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhu'  
    when @crs&lt;='爪' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhua'  
    when @crs&lt;='跩' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhuai'  
    when @crs&lt;='籑' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhuan'  
    when @crs&lt;='戅' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhuang'  
    when @crs&lt;='鑆' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhui'  
    when @crs&lt;='稕' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhun'  
    when @crs&lt;='籱' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zhuo'  
    when @crs&lt;='漬' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zi'  
    when @crs&lt;='縱' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zong'  
    when @crs&lt;='媰' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zou'  
    when @crs&lt;='謯' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zu'  
    when @crs&lt;='攥' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zuan'  
    when @crs&lt;='欈' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zui'  
    when @crs&lt;='銌' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zun'  
    when @crs&lt;='咗' COLLATE Chinese_PRC_CS_AS_KS_WS then 'Zuo'  
    else  @crs end+@re,@strlen=@strlen-1   
end  
return(@re)  
END
</code></pre>

<p>算法拿过来之后，就可直接调用了，下面是利用该算法将Cname中的汉字全部转换为拼音并存储在Username中，一秒钟搞定。拿来主义就是好！</p>

<pre><code class="sql">GO  
update RL_HRM_Employees set Username=dbo.fn_GetQuanPin(Cname) 
</code></pre>

<p>附：拿来网址：<a href="“http://blog.csdn.net/roy_88/article/details/8772631”" target="_blank">http://blog.csdn.net/roy_88/article/details/8772631</a></p>
<!-- content end -->
</div>
<br>
<br>
    <div id="disqus_thread"></div>
	<div class="footer">
		<p>© Copyright 2014 by isnowfy, Designed by isnowfy</p>
	</div>
</div>
<script src="main.js"></script>
<script id="content" type="text/mustache">
    <h1>{{title}}</h1>
    <div class="tag">
    {{date}}
    {{#tags}}
    <a href="/#/tag/{{name}}">#{{name}}</a>
    {{/tags}}
    </div>
</script>
<script id="pagesTemplate" type="text/mustache">
    {{#pages}}
    <li>
        <a href="{{path}}">{{title}}</a>
    </li>
    {{/pages}}
</script>
<script>
$(document).ready(function() {
    $.ajax({
        url: "main.json",
        type: "GET",
        dataType: "json",
        success: function(data) {
            $("#title").html(data.name);
            var pagesTemplate = Hogan.compile($("#pagesTemplate").html());
            var pagesHtml = pagesTemplate.render({"pages": data.pages});
            $("#pages").append(pagesHtml);
            //path
            var path = "sqltopinyin.html";
            //path end
            var now = 0;
            for (var i = 0; i < data.posts.length; ++i)
                if (path == data.posts[i].path)
                    now = i;
            var post = data.posts[now];
            var tmp = post.tags.split(" ");
            var tags = [];
            for (var i = 0; i < tmp.length; ++i)
                if (tmp[i].length > 0)
                    tags.push({"name": tmp[i]});
            var contentTemplate = Hogan.compile($("#content").html());
            var contentHtml = contentTemplate.render({"title": post.title, "tags": tags, "date": post.date});
            $("#main").prepend(contentHtml);
            if (data.disqus_shortname.length > 0) {
                var disqus_shortname = data.disqus_shortname;
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            }
        }
    });
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ["\\(", "\\)"]], processEscapes: true}});
</script>
</body>
</html>
