<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="Keywords" content="blog"/>
    <meta name="Description" content="blog"/>
    <title>Simple</title>
    <link rel="shortcut icon" href="/static/favicon.png"/>
    <link rel="stylesheet" type="text/css" href="/main.css" />
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69110428-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
<div class="main">
    <div class="header">
    	<ul id="pages">
            <li><a href="/">home</a></li>
            <li><a href="/#/tags">tags</a></li>
            <li><a href="/#/archive">archive</a></li>
    	</ul>
    </div>
	<div class="wrap-header">
	<h1>
    <a href="/" id="title"></a>
	</h1>
	</div>
<div id="md" style="display: none;">
<!-- markdown -->
##社交分享
目前大多数App中都具有“社交分享”的功能，而社交分享的作用是什么呢？<br>
1. 通过用户的分享，让更多的人去了解和使用这个App<br>
2. 目前移动互联网应用程序推广的最重要手段之一<br>
3. 属于口碑营销的范畴，经典成功案例是《疯狂猜图》<br>

目前国内比较火的分享平台有：

*  微信
*  新浪微博 － 苹果在iOS 6集成了
*  腾讯微博 － 在iOS 7集成的
*  豆瓣
*  QQ空间
* 人人网

那么，该如何实现社交分享呢？在iOS中，实现“社交分享”的方法主要有三种：

1. 自己编写各个 平台的分享代码（代码量较多，不可行）
2. 利用iOS自带的social.framework
3. 利用第三方的分享框架:  
<ul>
<li>友盟分享：http://dev.umeng.com/social/ios/share/quick-integration</li>
<li>ShareSDK：http://wiki.mob.com/iOS快速集成指南 </li>
<li>百度社会化分享组件：http://developer.baidu.com/soc/share</li>
</ul>
其中，用的比较多的还是`友盟分享`，ShareSDK与百度社会化分享组件目前均处于半死不活状态。

今天，我们主要来看一下iOS中自带的`Social.framework`的使用步骤。

Social.framework支持的分享平台（打开手机上的“设置”即可看到）

 ![](http://hanmeng1989.github.io/img/图片 1.png)

**Social.framework使用步骤:**<br>
1.导入头文件
~~~~{ruby}
#import <Social/Social.h>
~~~~
2.判断服务是否可用
~~~~{ruby}
if (![SLComposeViewController isAvailableForServiceType:SLServiceTypeSinaWeibo]) {
        NSLog(@"去配置账号和密码");
        return;
    }
~~~~
3.弹出分享内容输入界面
~~~~{ruby}
// 创建分享控制器
SLComposeViewController *composeVc = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeSinaWeibo];

// 弹出控制器
[self presentViewController:composeVc animated:YES completion:nil];
~~~~

4.额外设置
~~~~{ruby}
// 预设的文字
[composeVc setInitialText:@"向往天空的，都是寂寞的~"];
    
// 预设的图片
[composeVc addImage:[UIImage imageNamed:@"girl.jpg"]];
    
// 预设的网址
[composeVc addURL:[NSURL URLWithString:@"http://www.baidu.com"]];
~~~~

**分享界面弹出效果**

<span class="loading">upload image now!</span>





<!-- markdown end -->
</div>
<div class="entry" id="main">
<!-- content -->
<h2 id="">社交分享</h2>

<p>目前大多数App中都具有“社交分享”的功能，而社交分享的作用是什么呢？<br>
1. 通过用户的分享，让更多的人去了解和使用这个App<br>
2. 目前移动互联网应用程序推广的最重要手段之一<br>
3. 属于口碑营销的范畴，经典成功案例是《疯狂猜图》<br></p>

<p>目前国内比较火的分享平台有：</p>

<ul>
<li>微信</li>
<li>新浪微博 － 苹果在iOS 6集成了</li>
<li>腾讯微博 － 在iOS 7集成的</li>
<li>豆瓣</li>
<li>QQ空间</li>
<li>人人网</li>
</ul>

<p>那么，该如何实现社交分享呢？在iOS中，实现“社交分享”的方法主要有三种：</p>

<ol>
<li>自己编写各个 平台的分享代码（代码量较多，不可行）</li>
<li>利用iOS自带的social.framework</li>
<li>利用第三方的分享框架:  </li>
</ol>

<ul>
<li>友盟分享：http://dev.umeng.com/social/ios/share/quick-integration</li>
<li>ShareSDK：http://wiki.mob.com/iOS快速集成指南 </li>
<li>百度社会化分享组件：http://developer.baidu.com/soc/share</li>
</ul>

<p>其中，用的比较多的还是<code>友盟分享</code>，ShareSDK与百度社会化分享组件目前均处于半死不活状态。</p>

<p>今天，我们主要来看一下iOS中自带的<code>Social.framework</code>的使用步骤。</p>

<p>Social.framework支持的分享平台（打开手机上的“设置”即可看到）</p>

<p>!<a href="http://hanmeng1989.github.io/img/图片 1.png"></a></p>

<p><strong>Social.framework使用步骤:</strong><br>
1.导入头文件</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token comment" spellcheck="true">#import &lt;Social/Social.h&gt;
</span></code></pre>2.判断服务是否可用
<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">SLComposeViewController</span> isAvailableForServiceType<span class="token symbol">:SLServiceTypeSinaWeibo</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog<span class="token punctuation">(</span></span>@<span class="token string">"去配置账号和密码"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre>3.弹出分享内容输入界面
<pre class=" language-ruby"><code class=" language-ruby"><span class="token operator">/</span><span class="token operator">/</span> 创建分享控制器
<span class="token constant">SLComposeViewController</span> <span class="token operator">*</span>composeVc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">SLComposeViewController</span> composeViewControllerForServiceType<span class="token symbol">:SLServiceTypeSinaWeibo</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token operator">/</span><span class="token operator">/</span> 弹出控制器
<span class="token punctuation">[</span><span class="token keyword">self</span> presentViewController<span class="token symbol">:composeVc</span> animated<span class="token symbol">:YES</span> completion<span class="token symbol">:nil</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>

<p>4.额外设置</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token operator">/</span><span class="token operator">/</span> 预设的文字
<span class="token punctuation">[</span>composeVc setInitialText<span class="token punctuation">:</span>@<span class="token string">"向往天空的，都是寂寞的~"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token operator">/</span><span class="token operator">/</span> 预设的图片
<span class="token punctuation">[</span>composeVc addImage<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token constant">UIImage</span> imageNamed<span class="token punctuation">:</span>@<span class="token string">"girl.jpg"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token operator">/</span><span class="token operator">/</span> 预设的网址
<span class="token punctuation">[</span>composeVc addURL<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token constant">NSURL</span> <span class="token constant">URLWithString</span><span class="token punctuation">:</span>@<span class="token string">"http://www.baidu.com"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>

<p><strong>分享界面弹出效果</strong></p>

<p><span class="loading">upload image now!</span></p>
<!-- content end -->
</div>
<br>
<br>
    <div id="disqus_thread"></div>
	<div class="footer">
		<p>© Copyright 2014 by isnowfy, Designed by isnowfy</p>
	</div>
</div>
<script src="main.js"></script>
<script id="content" type="text/mustache">
    <h1>{{title}}</h1>
    <div class="tag">
    {{date}}
    {{#tags}}
    <a href="/#/tag/{{name}}">#{{name}}</a>
    {{/tags}}
    </div>
</script>
<script id="pagesTemplate" type="text/mustache">
    {{#pages}}
    <li>
        <a href="{{path}}">{{title}}</a>
    </li>
    {{/pages}}
</script>
<script>
$(document).ready(function() {
    $.ajax({
        url: "main.json",
        type: "GET",
        dataType: "json",
        success: function(data) {
            $("#title").html(data.name);
            var pagesTemplate = Hogan.compile($("#pagesTemplate").html());
            var pagesHtml = pagesTemplate.render({"pages": data.pages});
            $("#pages").append(pagesHtml);
            //path
            var path = "social.html";
            //path end
            var now = 0;
            for (var i = 0; i < data.posts.length; ++i)
                if (path == data.posts[i].path)
                    now = i;
            var post = data.posts[now];
            var tmp = post.tags.split(" ");
            var tags = [];
            for (var i = 0; i < tmp.length; ++i)
                if (tmp[i].length > 0)
                    tags.push({"name": tmp[i]});
            var contentTemplate = Hogan.compile($("#content").html());
            var contentHtml = contentTemplate.render({"title": post.title, "tags": tags, "date": post.date});
            $("#main").prepend(contentHtml);
            if (data.disqus_shortname.length > 0) {
                var disqus_shortname = data.disqus_shortname;
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            }
        }
    });
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ["\\(", "\\)"]], processEscapes: true}});
</script>
</body>
</html>
